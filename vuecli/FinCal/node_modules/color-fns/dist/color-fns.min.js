!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ColorFns=t()}(this,function(){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function c(e){return"object"===(void 0===e?"undefined":r(e))&&e.model?e.model:("#"!==e.slice(0,1)||4!==e.length&&7!==e.length)&&("#"!==e.slice(0,1)||6!==e.length&&9!==e.length)?"RGBA"===e.slice(0,4).toUpperCase()?"rgb":"RGB"===e.slice(0,3).toUpperCase()?"rgb":"HSLA"===e.slice(0,4).toUpperCase()?"hsl":"HSL"===e.slice(0,3).toUpperCase()&&"hsl":"hex"}function h(e){return isNaN(parseInt(e,16))?0:parseInt(e,16)}function s(t,n){return function(e){return t<=e&&e<=n}}function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function f(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.5;return Number((e*(1-n)+t*n).toFixed(2))}var d=function(){function e(t){var n=this;o(this,e),this.invalid=!this.validate(t),this.invalid||Object.keys(t).forEach(function(e){n[e]=t[e]}),this.init()}return i(e,[{key:"init",value:function(){}},{key:"validate",value:function(e){return!!e&&"object"===(void 0===e?"undefined":r(e))}}]),e}(),p=function(e){function n(){return o(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,d),i(n,[{key:"validate",value:function(e){if(!a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"validate",this).call(this,e))return!1;var t=s(0,255);return t(e.red)&&t(e.green)&&t(e.blue)}},{key:"init",value:function(){this.model="rgb",this.alpha=void 0===this.alpha?1:this.alpha}},{key:"toString",value:function(){return this.invalid?"Invalid Color":s(0,.999)(this.alpha)?"rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")":"rgb("+this.red+","+this.green+","+this.blue+")"}}]),n}(),b=function(e){function n(){return o(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,d),i(n,[{key:"validate",value:function(e){if(!a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"validate",this).call(this,e))return!1;var t=s(0,100);return s(0,360)(e.hue)&&t(e.lum)&&t(e.sat)}},{key:"init",value:function(){this.model="hsl",this.alpha=this.alpha||1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":s(0,.999)(this.alpha)?"hsla("+this.hue+","+this.sat+"%,"+this.lum+"%,"+this.alpha+")":"hsl("+this.hue+","+this.sat+"%,"+this.lum+"%)"}}]),n}(),v=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,d),i(t,[{key:"validate",value:function(e){return!!a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this,e)&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#"+e.red+e.green+e.blue)}},{key:"init",value:function(){this.model="hex",this.alpha=this.alpha||"ff"}},{key:"toString",value:function(){return this.invalid?"Invalid Color":s(0,.999)(h(this.alpha)/255)?"#"+this.red+this.green+this.blue+this.alpha:"#"+this.red+this.green+this.blue}}]),t}();function g(e){if("object"===(void 0===e?"undefined":r(e)))return e;var t=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new p:new p({red:Number(t[1]),green:Number(t[2]),blue:Number(t[3]),alpha:Number(t[4])})}function y(e){var t=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i;return 5!==e.length&&4!==e.length||!t.test(e)||(e=e.replace(t,function(e,t,n,r,o){return"#"+t+t+n+n+r+r+(o?""+o+o:"")})),e}function m(e){if("object"===(void 0===e?"undefined":r(e)))return e;var t=y(e),n=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i);return!n||n.length<4?new v:new v({hex:t,red:n[1],green:n[2],blue:n[3],alpha:n[4]})}function w(e){if("object"===(void 0===e?"undefined":r(e)))return e;var t=e.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new b:new b({hue:Number(t[1]),sat:Number(t[2]),lum:Number(t[3]),alpha:Number(t[4])})}function x(e){return e=Math.floor(e),isNaN(e)?"00":("0"+e.toString(16)).slice(-2)}function n(e){if(!e)return new v;var t=[x((e=g(e)).red),x(e.green),x(e.blue),e.alpha?x(255*e.alpha):null];return new v({red:t[0],green:t[1],blue:t[2],alpha:t[3]||"ff"})}function _(e){if(!e)return new b;var t=[(e=g(e)).red/255,e.green/255,e.blue/255,e.alpha],n=t[0],r=t[1],o=t[2],i=t[3],a=0,u=0,l=0,h=Math.min(n,r,o),s=Math.max(n,r,o);return l=(h+s)/2,h!==s&&(u=.5<l?(s-h)/(2-s-h):(s-h)/(s+h)),s<=n&&h!==s&&(a=(r-o)/(s-h)*60),s<=r&&h!==s&&(a=60*(2+(o-n)/(s-h))),s<=o&&h!==s&&(a=60*(4+(n-r)/(s-h))),a=a<0?Math.floor(a+360):Math.floor(a),u=Math.floor(100*u),l=Math.floor(100*l),new b({hue:a,sat:u,lum:l,alpha:i})}function j(e){if(!e)return new p;var t=m(e),n=t.red,r=t.green,o=t.blue,i=t.alpha;return new p({red:h(n),green:h(r),blue:h(o),alpha:void 0===i?1:Number((h(i)/255).toFixed(2))})}function O(e){return Math.min(Math.max(parseInt(e),0),255)}function N(e){if(!e)return new p;var t=[(e=w(e)).hue/360,e.sat/100,e.lum/100,e.alpha],n=t[0],r=t[1],o=t[2],i=t[3],a=0,u=0,l=0;if(0===r&&(a=u=l=O(255*o)),0!==r){var h=50<=o?o+r-o*r:o*(1+r),s=2*o-h,f=function(e){return e<0&&(e+=1),1<e&&(e-=1),e<1/6?s+6*(h-s)*e:e<.5?h:e<2/3?s+(h-s)*(2/3-e)*6:s};a=O(255*f(n+1/3)),u=O(255*f(n)),l=O(255*f(n-1/3))}return new p({red:a,green:u,blue:l,alpha:i})}function M(e){return e?_(j(e)):new b}function S(e){return e?n(N(e)):new v}function k(e){var t=c(e);return"hex"===t?j(e):"hsl"===t?N(e):"rgb"===t&&"string"==typeof e?g(e):"rgb"===t&&"object"===(void 0===e?"undefined":r(e))?e:new p}return{getColorModel:c,isValidColor:function(e){var t=c(e);return"rgb"===t?!g(e).invalid:"hex"===t?!m(e).invalid:"hsl"===t&&!w(e).invalid},isHexShorthand:function(e){return!(5!==e.length&&4!==e.length||!/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i.test(e))},hexNumToDec:h,decNumToHex:x,rgbToHex:n,rgbToHsl:_,hexToRgb:j,hslToRgb:N,hexToHsl:M,hslToHex:S,toRgb:k,toHex:function(e){var t=c(e);return"rgb"===t?n(e):"hsl"===t?S(e):"hex"===t&&"string"==typeof e?m(e):"hex"===t&&"object"===(void 0===e?"undefined":r(e))?e:new v},toHsl:function(e){var t=c(e);return"hex"===t?M(e):"rgb"===t?_(e):"hsl"===t&&"string"==typeof e?w(e):"hsl"===t&&"object"===(void 0===e?"undefined":r(e))?e:new b},parseRgb:g,parseHex:m,parseHsl:w,getRandomColor:function(){return"rgb("+e(0,255)+", "+e(0,255)+", "+e(0,255)+")"},normalizeDecNum:O,expandHexShorthand:y,alpha:function(e,t){if(t=Number(t),isNaN(t)||1<t||t<0)return"Invalid alpha";var n=c(e);if("rgb"===n){var r=e.red,o=e.green,i=e.blue;return new p({red:r,green:o,blue:i,alpha:t})}if("hex"===n){var a=e.red,u=e.green,l=e.blue;return new v({red:a,green:u,blue:l,alpha:x(255*t)})}if("hsl"===n){var h=e.hue,s=e.sat,f=e.lum;return new b({hue:h,sat:s,lum:f,alpha:t})}return"Invalid color"},mixColors:function(e,t,n){e=k(e),t=k(t);var r=Math.floor(f(e.red,t.red,n)),o=Math.floor(f(e.green,t.green,n)),i=Math.floor(f(e.blue,t.blue,n)),a=f(e.alpha,t.alpha,n);return new p({red:r,green:o,blue:i,alpha:a})},version:"0.0.7"}});